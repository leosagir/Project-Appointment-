2024-10-08 09:40:41 [restartedMain] INFO  p.appointment.AppointmentApplication - Starting AppointmentApplication using Java 17.0.12 with PID 36108 (E:\Projects\Appoinment\Appoinment\target\classes started by leosa in E:\Projects\Appoinment\Appoinment)
2024-10-08 09:40:41 [restartedMain] DEBUG p.appointment.AppointmentApplication - Running with Spring Boot v3.3.3, Spring v6.1.12
2024-10-08 09:40:41 [restartedMain] INFO  p.appointment.AppointmentApplication - No active profile set, falling back to 1 default profile: "default"
2024-10-08 09:40:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-08 09:40:41 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-08 09:40:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-08 09:40:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 9 JPA repository interfaces.
2024-10-08 09:40:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2024-10-08 09:40:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2024-10-08 09:40:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.28]
2024-10-08 09:40:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2024-10-08 09:40:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1602 ms
2024-10-08 09:40:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-08 09:40:43 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-08 09:40:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-10-08 09:40:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-08 09:40:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2024-10-08 09:40:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@91892c8
2024-10-08 09:40:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2024-10-08 09:40:45 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-08 09:40:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-08 09:40:45 [restartedMain] DEBUG p.a.security.JwtRequestFilter - Filter 'jwtRequestFilter' configured for use
2024-10-08 09:40:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2024-10-08 09:40:45 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2024-10-08 09:40:46 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 66 mappings in 'requestMappingHandlerMapping'
2024-10-08 09:40:46 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2024-10-08 09:40:46 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**] in 'resourceHandlerMapping'
2024-10-08 09:40:46 [restartedMain] INFO  p.appointment.AppointmentApplication - Started AppointmentApplication in 4.817 seconds (process running for 8.165)
2024-10-08 09:41:06 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-08 09:41:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@51aa46c2
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@333616f4
2024-10-08 09:41:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-10-08 09:41:06 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 123 ms
2024-10-08 09:41:06 [http-nio-8080-exec-1] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name compositeUserDetailsService
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtRequestFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:41:07 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 09:41:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:41:07 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 09:41:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:41:13 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:41:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:41:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:41:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:41:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:41:13 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:41:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:41:18 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 09:41:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:41:18 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 09:41:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:48:26 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:48:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:48:26 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:48:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: wagner@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: wagner@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: wagner@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: wagner@gmail.com, setting security context
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@74ccd01f]
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.security.AuthController - Attempting authentication for user: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] INFO  p.a.security.AuthController - User authenticated successfully: leosagir@gmail.com
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_ADMINISTRATOR], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsZW9zYWdpckBnbWFpbC5jb20iLC (truncated)...]
2024-10-08 09:51:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/admin
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/admin
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin", parameters={}
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminController_new#getAllAdmins()
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminController_new.getAllAdmins(); target is of class [project.appointment.admin.controller.AdminController_new]
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminController_new.getAllAdmins(); target is of class [project.appointment.admin.controller.AdminController_new]
2024-10-08 09:53:55 [http-nio-8080-exec-7] INFO  p.a.admin.service.AdminServiceImpl - Fetching all admins
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AdminResponseDto(id=1, email=leosagir@gmail.com, firstName=Leonid, lastName=Sahirov, dateOfBirth=19 (truncated)...]
2024-10-08 09:53:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/admin
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/admin
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin", parameters={}
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminController_new#getAllAdmins()
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminController_new.getAllAdmins(); target is of class [project.appointment.admin.controller.AdminController_new]
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminController_new.getAllAdmins(); target is of class [project.appointment.admin.controller.AdminController_new]
2024-10-08 09:53:55 [http-nio-8080-exec-1] INFO  p.a.admin.service.AdminServiceImpl - Fetching all admins
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AdminResponseDto(id=1, email=leosagir@gmail.com, firstName=Leonid, lastName=Sahirov, dateOfBirth=19 (truncated)...]
2024-10-08 09:53:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews
2024-10-08 09:53:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews", parameters={}
2024-10-08 09:53:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getAllReviews()
2024-10-08 09:53:57 [http-nio-8080-exec-2] INFO  p.a.review.service.ReviewService - Fetching all review responses
2024-10-08 09:53:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=6, specialistName=Julia, clientName=Leo, appointmentDate=2024-09-30T14:41, rat (truncated)...]
2024-10-08 09:53:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews", parameters={}
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getAllReviews()
2024-10-08 09:53:58 [http-nio-8080-exec-3] INFO  p.a.review.service.ReviewService - Fetching all review responses
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=6, specialistName=Julia, clientName=Leo, appointmentDate=2024-09-30T14:41, rat (truncated)...]
2024-10-08 09:53:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:53:58 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 09:53:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/admin/clients
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/admin/clients
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/clients", parameters={}
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminClientController_new#getAllClients()
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.getAllClients(); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.getAllClients(); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 09:53:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:53:58 [http-nio-8080-exec-5] INFO  p.a.client.service.ClientServiceImpl - Fetching all clients
2024-10-08 09:53:58 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ClientResponseDto(id=3, email=ivan@gmail.com, firstName=Ivan, lastName=Ivan, dateOfBirth=1987-12-22 (truncated)...]
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:53:58 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 09:53:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:53:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/admin/clients
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/admin/clients
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/admin/clients", parameters={}
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminClientController_new#getAllClients()
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.getAllClients(); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.getAllClients(); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 09:53:59 [http-nio-8080-exec-9] INFO  p.a.client.service.ClientServiceImpl - Fetching all clients
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ClientResponseDto(id=3, email=ivan@gmail.com, firstName=Ivan, lastName=Ivan, dateOfBirth=1987-12-22 (truncated)...]
2024-10-08 09:53:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:53:59 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:53:59 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:53:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:53:59 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 09:53:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:54:00 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:54:00 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:54:00 [http-nio-8080-exec-5] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 09:54:00 [http-nio-8080-exec-3] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:54:00 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:54:00 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 09:54:00 [http-nio-8080-exec-9] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:54:00 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:54:00 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 09:54:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:59:17 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:59:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:17 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:59:17 [http-nio-8080-exec-5] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 09:59:17 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:59:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 09:59:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 09:59:18 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 09:59:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:59:18 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:59:18 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 09:59:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 09:59:18 [http-nio-8080-exec-9] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 09:59:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:59:20 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 09:59:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 09:59:20 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 09:59:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:02:24 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:02:24 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:02:24 [http-nio-8080-exec-3] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:02:24 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:02:24 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:02:24 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:02:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:02:25 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:02:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:02:25 [http-nio-8080-exec-9] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:02:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:02:55 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:02:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:02:56 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:14:29 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:14:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:18:09 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:18:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:09 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:30:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:10 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:30:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:11 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:11 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:30:11 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:30:11 [http-nio-8080-exec-6] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:11 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:11 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:11 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:30:11 [http-nio-8080-exec-1] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:30:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:30:16 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:16 [http-nio-8080-exec-4] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:30:16 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:16 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:16 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:30:16 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:30:16 [http-nio-8080-exec-10] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:30:16 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:30:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:25 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:25 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:30:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:30:25 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:30:25 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 10:30:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:31:45 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:31:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:31:45 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:31:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:32:30 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:32:30 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 10:32:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:32:30 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:32:30 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:32:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@1a8ea282]
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.a.security.AuthController - Attempting authentication for user: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - Generating token for user: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - Generating token for user: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] INFO  p.a.security.AuthController - User authenticated successfully: petr@gmail.com
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_CLIENT], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJwZXRyQGdtYWlsLmNvbSIsImlhdCI6MTcyO (truncated)...]
2024-10-08 10:33:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:33:05 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:33:05 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 10:33:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 10:33:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-6] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:33:05 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:33:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:33:05 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 10:33:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 10:33:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:05 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:05 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:05 [http-nio-8080-exec-4] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 10:33:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 10:33:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:30 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:30 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:30 [http-nio-8080-exec-5] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 10:33:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 10:33:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:30 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:30 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 10:33:30 [http-nio-8080-exec-8] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 10:33:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client/past-without-review
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews/client
2024-10-08 10:33:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:35 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:35 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:35 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:35 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client/past-without-review
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews/client
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews/client", parameters={}
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client/past-without-review", parameters={}
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientPastAppointmentsWithoutReview(AppUser)
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getCurrentClientReviews(AppUser)
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 10:33:35 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Fetching past appointments without review for client with id: 2
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=7, specialistName=Stefan, clientName=Petr, appointmentDate=2024-10-02T15:00:53 (truncated)...]
2024-10-08 10:33:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 10:33:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews/client
2024-10-08 10:33:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:36 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:36 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews/client
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews/client", parameters={}
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getCurrentClientReviews(AppUser)
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=7, specialistName=Stefan, clientName=Petr, appointmentDate=2024-10-02T15:00:53 (truncated)...]
2024-10-08 10:33:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client/past-without-review
2024-10-08 10:33:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:36 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:36 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client/past-without-review
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client/past-without-review", parameters={}
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientPastAppointmentsWithoutReview(AppUser)
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:33:36 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Fetching past appointments without review for client with id: 2
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 10:33:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/2
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/2
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/2", parameters={}
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 2
2024-10-08 10:33:58 [http-nio-8080-exec-1] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 2
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 10:33:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/2
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/2
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/2", parameters={}
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 2
2024-10-08 10:33:58 [http-nio-8080-exec-9] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 2
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 10:33:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:34:16 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:34:16 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:34:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:34:16 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:34:16 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:34:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@64f6e9be]
2024-10-08 10:34:32 [http-nio-8080-exec-5] INFO  p.a.security.AuthController - Attempting authentication for user: scneider@gmail.com
2024-10-08 10:34:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: scneider@gmail.com
2024-10-08 10:34:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:34:32 [http-nio-8080-exec-5] ERROR p.a.s.CompositeUserDetailsService - User not found with email: scneider@gmail.com
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user 'scneider@gmail.com'
2024-10-08 10:34:32 [http-nio-8080-exec-5] ERROR p.a.security.AuthController - Authentication failed for user: scneider@gmail.com
org.springframework.security.authentication.BadCredentialsException: Неверные учетные данные пользователя
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at project.appointment.security.AuthController.login(AuthController.java:36)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at project.appointment.security.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Invalid credentials}]
2024-10-08 10:34:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 401 UNAUTHORIZED
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/refresh
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/refresh
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/refresh", parameters={}
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#refreshToken(RefreshTokenRequest)
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RefreshTokenRequest(refreshToken=null)]
2024-10-08 10:34:32 [http-nio-8080-exec-8] INFO  p.a.security.AuthController - Attempting to refresh token
2024-10-08 10:34:32 [http-nio-8080-exec-8] WARN  p.a.security.AuthController - Refresh token not found or expired
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Refresh token is not valid}]
2024-10-08 10:34:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 403 FORBIDDEN
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@64a99222]
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.security.AuthController - Attempting authentication for user: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - Generating token for user: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - Generating token for user: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] INFO  p.a.security.AuthController - User authenticated successfully: weber@gmail.com
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_SPECIALIST], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3ZWJlckBnbWFpbC5jb20iLCJpYXQiO (truncated)...]
2024-10-08 10:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:34:49 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:34:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:34:49 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:34:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists/me", parameters={}
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getCurrentSpecialist(AppUser)
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching specialist with id: 3
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SpecialistResponseDto(id=3, email=weber@gmail.com, firstName=Stefan, lastName=Weber, dateOfBirth=197 (truncated)...]
2024-10-08 10:34:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists/me
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists/me", parameters={}
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getCurrentSpecialist(AppUser)
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching specialist with id: 3
2024-10-08 10:34:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/appointments/specialist/3
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/specialist/3
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SpecialistResponseDto(id=3, email=weber@gmail.com, firstName=Stefan, lastName=Weber, dateOfBirth=197 (truncated)...]
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/specialist/3
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/specialist/3", parameters={}
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getSpecialistAppointments(Long, AppUser)
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Fetching all appointments for specialist with id: 3
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=30, specialistId=3, specialistName=Stefan Weber, clientId=null, clientNam (truncated)...]
2024-10-08 10:34:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/specialist/3
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/specialist/3
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/specialist/3", parameters={}
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getSpecialistAppointments(Long, AppUser)
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:34:54 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Fetching all appointments for specialist with id: 3
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=30, specialistId=3, specialistName=Stefan Weber, clientId=null, clientNam (truncated)...]
2024-10-08 10:34:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:35:44 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:35:44 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:35:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:35:44 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:35:44 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:35:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 10:35:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@67d03380]
2024-10-08 10:35:56 [http-nio-8080-exec-1] INFO  p.a.security.AuthController - Attempting authentication for user: leosagir@gmail.com
2024-10-08 10:35:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:35:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:35:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:35:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:35:57 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 10:35:57 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 10:35:57 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 10:35:57 [http-nio-8080-exec-1] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: leosagir@gmail.com
2024-10-08 10:35:57 [http-nio-8080-exec-1] INFO  p.a.security.AuthController - User authenticated successfully: leosagir@gmail.com
2024-10-08 10:35:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:35:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_ADMINISTRATOR], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsZW9zYWdpckBnbWFpbC5jb20iLC (truncated)...]
2024-10-08 10:35:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:36:41 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:36:41 [http-nio-8080-exec-3] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:36:41 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:36:41 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 10:36:41 [http-nio-8080-exec-7] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 10:36:41 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:36:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 10:36:41 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 10:36:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 10:36:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:36:42 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:36:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:38:05 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 10:38:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:38:05 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 10:38:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/3
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/3
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/3", parameters={}
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 3
2024-10-08 10:38:17 [http-nio-8080-exec-4] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 3
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 10:38:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 10:38:34 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 10:38:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:41:05 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:41:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 10:41:05 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 10:41:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 11:56:05 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h2m20s511ms489µs400ns).
2024-10-08 13:02:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=42m14s428ms567µs200ns).
2024-10-08 14:30:49 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=26m57s801ms935µs200ns).
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:41:46 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 14:41:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:41:47 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 14:41:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/3
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/3
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/3", parameters={}
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 3
2024-10-08 14:42:01 [http-nio-8080-exec-2] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 3
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 14:42:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/admin/clients/3
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/admin/clients/3
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/admin/clients/3", parameters={}
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminClientController_new#updateClient(Long, ClientUpdateDto)
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ClientUpdateDto(firstName=Ivan, lastName=Ivanov, dateOfBirth=1987-12-22, address=Ivanovstraße 1, pho (truncated)...]
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.updateClient(java.lang.Long,project.appointment.client.dto.ClientUpdateDto); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.updateClient(java.lang.Long,project.appointment.client.dto.ClientUpdateDto); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.client.service.ClientServiceImpl - Attempting to update client with id: 3
2024-10-08 14:42:14 [http-nio-8080-exec-10] INFO  p.a.client.service.ClientServiceImpl - Client updated successfully with id: 3
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=3, email=ivan@gmail.com, firstName=Ivan, lastName=Ivanov, dateOfBirth=1987-12-2 (truncated)...]
2024-10-08 14:42:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/6
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/6
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/6", parameters={}
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 6
2024-10-08 14:42:25 [http-nio-8080-exec-6] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 6
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 14:42:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/admin/clients/6
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/admin/clients/6
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/admin/clients/6", parameters={}
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.admin.controller.AdminClientController_new#updateClient(Long, ClientUpdateDto)
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [ClientUpdateDto(firstName=David, lastName=Damber, dateOfBirth=1989-11-05, address=Davidstrße 1, phon (truncated)...]
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.updateClient(java.lang.Long,project.appointment.client.dto.ClientUpdateDto); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.admin.controller.AdminClientController_new.updateClient(java.lang.Long,project.appointment.client.dto.ClientUpdateDto); target is of class [project.appointment.admin.controller.AdminClientController_new]
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.client.service.ClientServiceImpl - Attempting to update client with id: 6
2024-10-08 14:42:44 [http-nio-8080-exec-1] INFO  p.a.client.service.ClientServiceImpl - Client updated successfully with id: 6
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=6, email=david@gmail.com, firstName=David, lastName=Damber, dateOfBirth=1989-11 (truncated)...]
2024-10-08 14:42:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:56 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:56 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:56 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 14:43:56 [http-nio-8080-exec-9] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 14:43:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:43:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 14:43:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 14:43:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:43:56 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 14:43:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 14:43:57 [http-nio-8080-exec-7] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 14:43:57 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:43:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:43:57 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 14:43:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 14:43:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T13:00:56, endTime=2024-10-07T14:00:56)]
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=110, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T14:00:56, endTime=2024-10-07T15:00:56)]
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=111, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T15:00:56, endTime=2024-10-07T16:00:56)]
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=112, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:07 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T16:00:56, endTime=2024-10-07T17:00:56)]
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=113, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T17:00:56, endTime=2024-10-07T18:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=114, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T13:00:56, endTime=2024-10-08T14:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=115, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T14:00:56, endTime=2024-10-08T15:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=116, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T15:00:56, endTime=2024-10-08T16:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=117, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T16:00:56, endTime=2024-10-08T17:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=118, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:08 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T17:00:56, endTime=2024-10-08T18:00:56)]
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=119, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T13:00:56, endTime=2024-10-09T14:00:56)]
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=120, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T14:00:56, endTime=2024-10-09T15:00:56)]
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=121, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T15:00:56, endTime=2024-10-09T16:00:56)]
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=122, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T16:00:56, endTime=2024-10-09T17:00:56)]
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=123, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:09 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T17:00:56, endTime=2024-10-09T18:00:56)]
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=124, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T13:00:56, endTime=2024-10-10T14:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=125, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T14:00:56, endTime=2024-10-10T15:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=126, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T15:00:56, endTime=2024-10-10T16:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=127, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T16:00:56, endTime=2024-10-10T17:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=128, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T17:00:56, endTime=2024-10-10T18:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=129, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:10 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T13:00:56, endTime=2024-10-11T14:00:56)]
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=130, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T14:00:56, endTime=2024-10-11T15:00:56)]
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=131, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T15:00:56, endTime=2024-10-11T16:00:56)]
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=132, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T16:00:56, endTime=2024-10-11T17:00:56)]
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=133, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:11 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T17:00:56, endTime=2024-10-11T18:00:56)]
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=134, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:48 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T08:00:56, endTime=2024-10-07T09:00:56)]
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=135, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T09:00:56, endTime=2024-10-07T10:00:56)]
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=136, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T10:00:56, endTime=2024-10-07T11:00:56)]
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=137, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T11:00:56, endTime=2024-10-07T12:00:56)]
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=138, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T13:00:56, endTime=2024-10-07T14:00:56)]
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=139, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:49 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T14:00:56, endTime=2024-10-07T15:00:56)]
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=140, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T15:00:56, endTime=2024-10-07T16:00:56)]
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=141, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T16:00:56, endTime=2024-10-07T17:00:56)]
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=142, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-07T17:00:56, endTime=2024-10-07T18:00:56)]
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=143, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T08:00:56, endTime=2024-10-08T09:00:56)]
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=144, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:50 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T09:00:56, endTime=2024-10-08T10:00:56)]
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=145, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T10:00:56, endTime=2024-10-08T11:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=146, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T11:00:56, endTime=2024-10-08T12:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=147, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T13:00:56, endTime=2024-10-08T14:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=148, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T14:00:56, endTime=2024-10-08T15:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=149, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T15:00:56, endTime=2024-10-08T16:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=150, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:51 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T16:00:56, endTime=2024-10-08T17:00:56)]
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=151, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-08T17:00:56, endTime=2024-10-08T18:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=152, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T08:00:56, endTime=2024-10-09T09:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=153, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T09:00:56, endTime=2024-10-09T10:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=154, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T10:00:56, endTime=2024-10-09T11:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=155, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T11:00:56, endTime=2024-10-09T12:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=156, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:52 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T13:00:56, endTime=2024-10-09T14:00:56)]
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=157, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T14:00:56, endTime=2024-10-09T15:00:56)]
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=158, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T15:00:56, endTime=2024-10-09T16:00:56)]
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=159, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T16:00:56, endTime=2024-10-09T17:00:56)]
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=160, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-09T17:00:56, endTime=2024-10-09T18:00:56)]
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=161, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:53 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T08:00:56, endTime=2024-10-10T09:00:56)]
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=162, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T09:00:56, endTime=2024-10-10T10:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=163, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T10:00:56, endTime=2024-10-10T11:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=164, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T11:00:56, endTime=2024-10-10T12:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=165, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T13:00:56, endTime=2024-10-10T14:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=166, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T14:00:56, endTime=2024-10-10T15:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=167, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:54 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T15:00:56, endTime=2024-10-10T16:00:56)]
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=168, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T16:00:56, endTime=2024-10-10T17:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=169, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-10T17:00:56, endTime=2024-10-10T18:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=170, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T08:00:56, endTime=2024-10-11T09:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=171, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T09:00:56, endTime=2024-10-11T10:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=172, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T10:00:56, endTime=2024-10-11T11:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=173, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:55 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T11:00:56, endTime=2024-10-11T12:00:56)]
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=174, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T13:00:56, endTime=2024-10-11T14:00:56)]
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=175, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T14:00:56, endTime=2024-10-11T15:00:56)]
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=176, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T15:00:56, endTime=2024-10-11T16:00:56)]
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=177, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T16:00:56, endTime=2024-10-11T17:00:56)]
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=178, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:46:56 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=3, startTime=2024-10-11T17:00:56, endTime=2024-10-11T18:00:56)]
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=179, specialistId=3, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 14:46:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/166
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/166
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/166", parameters={}
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:22 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 166
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/167
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/167
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/167", parameters={}
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:24 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 167
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/168
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/168
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/168", parameters={}
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:26 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 168
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/169
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/169
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/169", parameters={}
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:28 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 169
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/170
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/170
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/170", parameters={}
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:30 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 170
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/175
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/175
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/175", parameters={}
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:35 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 175
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/176
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/176
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/176", parameters={}
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:37 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 176
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/177
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/177
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/177", parameters={}
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:39 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 177
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/178
2024-10-08 14:47:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:41 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:41 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/178
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/178", parameters={}
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:41 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 178
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/179
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/179
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/179", parameters={}
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:42 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 179
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/157
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/157
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/157", parameters={}
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:51 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 157
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/158
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/158
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/158", parameters={}
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:52 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 158
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/159
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/159
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/159", parameters={}
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:54 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 159
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/160
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:55 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/160
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/160", parameters={}
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:56 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 160
2024-10-08 14:47:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/161
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/161
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/161", parameters={}
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:47:57 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 161
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:47:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/148
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/148
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/148", parameters={}
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:01 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 148
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/115
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/115
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/115", parameters={}
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:02 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 115
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/149
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/149
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/149", parameters={}
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:06 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 149
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/150
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/150
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/150", parameters={}
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:07 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 150
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/151
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/151
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/151", parameters={}
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:09 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 151
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/152
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/152
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/152", parameters={}
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:10 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 152
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/139
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/139
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/139", parameters={}
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:15 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 139
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/140
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/140
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/140", parameters={}
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:17 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 140
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/141
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/141
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/141", parameters={}
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:18 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 141
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/142
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/142
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/142", parameters={}
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:20 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 142
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/appointments/143
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/appointments/143
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - DELETE "/api/appointments/143", parameters={}
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#deleteFreeAppointment(Long, AppUser)
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.deleteFreeAppointment(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 14:48:22 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Deleting or cancelling booking for appointment with id: 143
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2024-10-08 14:48:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 204 NO_CONTENT
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:49:40 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:49:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:49:40 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:49:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:52:14 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 14:52:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:52:14 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 14:52:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:52:14 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:52:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:52:14 [http-nio-8080-exec-1] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:52:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:52:17 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 14:52:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:52:17 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 14:52:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:53:31 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:53:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:53:31 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:53:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:53:35 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:53:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:53:35 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:53:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:55:13 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:55:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:55:13 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:55:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:55:13 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 14:55:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 14:55:14 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 14:55:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:55:15 [http-nio-8080-exec-5] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:55:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 14:55:15 [http-nio-8080-exec-3] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 14:55:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 15:00:00 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 15:00:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 15:00:00 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 15:00:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:10:42 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:10:42 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:10:42 [http-nio-8080-exec-7] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:10:42 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:10:42 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:10:42 [http-nio-8080-exec-1] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:10:42 [http-nio-8080-exec-5] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:10:42 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=7, specialistId=2, specialistName=Julia Schneider, clientId=null, clientN (truncated)...]
2024-10-08 16:10:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T08:00:41, endTime=2024-10-09T09:00:41)]
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:55 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:55 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T09:00:41, endTime=2024-10-09T10:00:41)]
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:55 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:55 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T10:00:41, endTime=2024-10-09T11:00:41)]
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:55 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:55 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:55 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T11:00:41, endTime=2024-10-09T12:00:41)]
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:55 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:55 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:55 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T13:00:41, endTime=2024-10-09T14:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T14:00:41, endTime=2024-10-09T15:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T15:00:41, endTime=2024-10-09T16:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T16:00:41, endTime=2024-10-09T17:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T17:00:41, endTime=2024-10-09T18:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T18:00:41, endTime=2024-10-09T19:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:56 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:56 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:56 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:56 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T19:00:41, endTime=2024-10-09T20:00:41)]
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:56 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T08:00:41, endTime=2024-10-10T09:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T09:00:41, endTime=2024-10-10T10:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T10:00:41, endTime=2024-10-10T11:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T11:00:41, endTime=2024-10-10T12:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T13:00:41, endTime=2024-10-10T14:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:57 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T14:00:41, endTime=2024-10-10T15:00:41)]
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:57 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:57 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:57 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T15:00:41, endTime=2024-10-10T16:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T16:00:41, endTime=2024-10-10T17:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T17:00:41, endTime=2024-10-10T18:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T18:00:41, endTime=2024-10-10T19:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T19:00:41, endTime=2024-10-10T20:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:58 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T08:00:41, endTime=2024-10-11T09:00:41)]
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:58 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:58 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:58 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T09:00:41, endTime=2024-10-11T10:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T10:00:41, endTime=2024-10-11T11:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T11:00:41, endTime=2024-10-11T12:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T13:00:41, endTime=2024-10-11T14:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T14:00:41, endTime=2024-10-11T15:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:11:59 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T15:00:41, endTime=2024-10-11T16:00:41)]
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:11:59 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:11:59 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:11:59 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:11:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T16:00:41, endTime=2024-10-11T17:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T17:00:41, endTime=2024-10-11T18:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T18:00:41, endTime=2024-10-11T19:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T19:00:41, endTime=2024-10-11T20:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T08:00:41, endTime=2024-10-14T09:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:00 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T09:00:41, endTime=2024-10-14T10:00:41)]
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:00 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:00 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:00 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T10:00:41, endTime=2024-10-14T11:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T11:00:41, endTime=2024-10-14T12:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T13:00:41, endTime=2024-10-14T14:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T14:00:41, endTime=2024-10-14T15:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T15:00:41, endTime=2024-10-14T16:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:01 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T16:00:41, endTime=2024-10-14T17:00:41)]
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:01 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:01 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:01 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T17:00:41, endTime=2024-10-14T18:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T18:00:41, endTime=2024-10-14T19:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T19:00:41, endTime=2024-10-14T20:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T08:00:41, endTime=2024-10-15T09:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T09:00:41, endTime=2024-10-15T10:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T10:00:41, endTime=2024-10-15T11:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:02 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T11:00:41, endTime=2024-10-15T12:00:41)]
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:02 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:02 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:02 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T13:00:41, endTime=2024-10-15T14:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T14:00:41, endTime=2024-10-15T15:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T15:00:41, endTime=2024-10-15T16:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T16:00:41, endTime=2024-10-15T17:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T17:00:41, endTime=2024-10-15T18:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:03 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T18:00:41, endTime=2024-10-15T19:00:41)]
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:03 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:03 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:03 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T19:00:41, endTime=2024-10-15T20:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T08:00:41, endTime=2024-10-16T09:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T09:00:41, endTime=2024-10-16T10:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T10:00:41, endTime=2024-10-16T11:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T11:00:41, endTime=2024-10-16T12:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T08:00:41, endTime=2024-10-09T09:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:04 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T13:00:41, endTime=2024-10-16T14:00:41)]
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:04 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:04 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:04 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:04 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T09:00:41, endTime=2024-10-09T10:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T14:00:41, endTime=2024-10-16T15:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T10:00:41, endTime=2024-10-09T11:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T15:00:41, endTime=2024-10-16T16:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T11:00:41, endTime=2024-10-09T12:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T16:00:41, endTime=2024-10-16T17:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T13:00:41, endTime=2024-10-09T14:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T17:00:41, endTime=2024-10-16T18:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T14:00:41, endTime=2024-10-09T15:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:05 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T18:00:41, endTime=2024-10-16T19:00:41)]
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:05 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:05 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:05 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:05 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T15:00:41, endTime=2024-10-09T16:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T19:00:41, endTime=2024-10-16T20:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T16:00:41, endTime=2024-10-09T17:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T08:00:41, endTime=2024-10-17T09:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T17:00:41, endTime=2024-10-09T18:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T09:00:41, endTime=2024-10-17T10:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T18:00:41, endTime=2024-10-09T19:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T10:00:41, endTime=2024-10-17T11:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:06 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-09T19:00:41, endTime=2024-10-09T20:00:41)]
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:06 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:06 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:06 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T11:00:41, endTime=2024-10-17T12:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T08:00:41, endTime=2024-10-10T09:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T13:00:41, endTime=2024-10-17T14:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T09:00:41, endTime=2024-10-10T10:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T14:00:41, endTime=2024-10-17T15:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T10:00:41, endTime=2024-10-10T11:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T15:00:41, endTime=2024-10-17T16:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T11:00:41, endTime=2024-10-10T12:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:07 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T16:00:41, endTime=2024-10-17T17:00:41)]
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:07 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:07 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:07 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T13:00:41, endTime=2024-10-10T14:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T17:00:41, endTime=2024-10-17T18:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T14:00:41, endTime=2024-10-10T15:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T18:00:41, endTime=2024-10-17T19:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T15:00:41, endTime=2024-10-10T16:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T19:00:41, endTime=2024-10-17T20:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T16:00:41, endTime=2024-10-10T17:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T08:00:41, endTime=2024-10-18T09:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:08 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T17:00:41, endTime=2024-10-10T18:00:41)]
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:08 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:08 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:08 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T09:00:41, endTime=2024-10-18T10:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T18:00:41, endTime=2024-10-10T19:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T10:00:41, endTime=2024-10-18T11:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-10T19:00:41, endTime=2024-10-10T20:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T11:00:41, endTime=2024-10-18T12:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T08:00:41, endTime=2024-10-11T09:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T13:00:41, endTime=2024-10-18T14:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T09:00:41, endTime=2024-10-11T10:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T14:00:41, endTime=2024-10-18T15:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:09 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T10:00:41, endTime=2024-10-11T11:00:41)]
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:09 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:09 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:09 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T15:00:41, endTime=2024-10-18T16:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T11:00:41, endTime=2024-10-11T12:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T16:00:41, endTime=2024-10-18T17:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T13:00:41, endTime=2024-10-11T14:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T17:00:41, endTime=2024-10-18T18:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T14:00:41, endTime=2024-10-11T15:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T18:00:41, endTime=2024-10-18T19:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T15:00:41, endTime=2024-10-11T16:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:10 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T19:00:41, endTime=2024-10-18T20:00:41)]
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:10 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:10 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:10 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T16:00:41, endTime=2024-10-11T17:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T08:00:41, endTime=2024-10-21T09:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T17:00:41, endTime=2024-10-11T18:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T09:00:41, endTime=2024-10-21T10:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T18:00:41, endTime=2024-10-11T19:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T10:00:41, endTime=2024-10-21T11:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-11T19:00:41, endTime=2024-10-11T20:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T11:00:41, endTime=2024-10-21T12:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:11 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T08:00:41, endTime=2024-10-14T09:00:41)]
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:11 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:11 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:11 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T13:00:41, endTime=2024-10-21T14:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T09:00:41, endTime=2024-10-14T10:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T14:00:41, endTime=2024-10-21T15:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T10:00:41, endTime=2024-10-14T11:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T15:00:41, endTime=2024-10-21T16:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T11:00:41, endTime=2024-10-14T12:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T16:00:41, endTime=2024-10-21T17:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T13:00:41, endTime=2024-10-14T14:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T17:00:41, endTime=2024-10-21T18:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:12 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T14:00:41, endTime=2024-10-14T15:00:41)]
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:12 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:12 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:12 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T18:00:41, endTime=2024-10-21T19:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T15:00:41, endTime=2024-10-14T16:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T19:00:41, endTime=2024-10-21T20:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T16:00:41, endTime=2024-10-14T17:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T08:00:41, endTime=2024-10-22T09:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T17:00:41, endTime=2024-10-14T18:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T09:00:41, endTime=2024-10-22T10:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T18:00:41, endTime=2024-10-14T19:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T10:00:41, endTime=2024-10-22T11:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:13 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-14T19:00:41, endTime=2024-10-14T20:00:41)]
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:13 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:13 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:13 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T11:00:41, endTime=2024-10-22T12:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T08:00:41, endTime=2024-10-15T09:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T13:00:41, endTime=2024-10-22T14:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T09:00:41, endTime=2024-10-15T10:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T14:00:41, endTime=2024-10-22T15:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T10:00:41, endTime=2024-10-15T11:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T15:00:41, endTime=2024-10-22T16:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T11:00:41, endTime=2024-10-15T12:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:14 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T16:00:41, endTime=2024-10-22T17:00:41)]
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:14 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:14 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:14 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T13:00:41, endTime=2024-10-15T14:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T17:00:41, endTime=2024-10-22T18:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T14:00:41, endTime=2024-10-15T15:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T18:00:41, endTime=2024-10-22T19:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T15:00:41, endTime=2024-10-15T16:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T19:00:41, endTime=2024-10-22T20:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T16:00:41, endTime=2024-10-15T17:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T08:00:41, endTime=2024-10-23T09:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:15 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T17:00:41, endTime=2024-10-15T18:00:41)]
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:15 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:15 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:15 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T09:00:41, endTime=2024-10-23T10:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T18:00:41, endTime=2024-10-15T19:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T10:00:41, endTime=2024-10-23T11:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-15T19:00:41, endTime=2024-10-15T20:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T11:00:41, endTime=2024-10-23T12:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T08:00:41, endTime=2024-10-16T09:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T13:00:41, endTime=2024-10-23T14:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T09:00:41, endTime=2024-10-16T10:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:16 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T14:00:41, endTime=2024-10-23T15:00:41)]
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:16 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:16 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:16 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T10:00:41, endTime=2024-10-16T11:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T15:00:41, endTime=2024-10-23T16:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T11:00:41, endTime=2024-10-16T12:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T16:00:41, endTime=2024-10-23T17:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T13:00:41, endTime=2024-10-16T14:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T17:00:41, endTime=2024-10-23T18:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T14:00:41, endTime=2024-10-16T15:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T18:00:41, endTime=2024-10-23T19:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T15:00:41, endTime=2024-10-16T16:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:17 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:17 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:17 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T08:00:41, endTime=2024-10-09T09:00:41)]
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=362, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T19:00:41, endTime=2024-10-23T20:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T16:00:41, endTime=2024-10-16T17:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T09:00:41, endTime=2024-10-09T10:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=365, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T08:00:41, endTime=2024-10-24T09:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T17:00:41, endTime=2024-10-16T18:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T10:00:41, endTime=2024-10-09T11:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=368, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:18 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T09:00:41, endTime=2024-10-24T10:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T18:00:41, endTime=2024-10-16T19:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T11:00:41, endTime=2024-10-09T12:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=371, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:18 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T10:00:41, endTime=2024-10-24T11:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-16T19:00:41, endTime=2024-10-16T20:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:18 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:18 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:18 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:18 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T13:00:41, endTime=2024-10-09T14:00:41)]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=374, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T11:00:41, endTime=2024-10-24T12:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T08:00:41, endTime=2024-10-17T09:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T14:00:41, endTime=2024-10-09T15:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=376, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T13:00:41, endTime=2024-10-24T14:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T09:00:41, endTime=2024-10-17T10:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T15:00:41, endTime=2024-10-09T16:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=380, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:19 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T14:00:41, endTime=2024-10-24T15:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T10:00:41, endTime=2024-10-17T11:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T16:00:41, endTime=2024-10-09T17:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=383, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:19 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T11:00:41, endTime=2024-10-17T12:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T15:00:41, endTime=2024-10-24T16:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:19 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:19 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T17:00:41, endTime=2024-10-09T18:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=386, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:19 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:19 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T13:00:41, endTime=2024-10-17T14:00:41)]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:19 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:19 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:19 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T16:00:41, endTime=2024-10-24T17:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T18:00:41, endTime=2024-10-09T19:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=389, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T14:00:41, endTime=2024-10-17T15:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T17:00:41, endTime=2024-10-24T18:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-09T19:00:41, endTime=2024-10-09T20:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=392, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T15:00:41, endTime=2024-10-17T16:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T18:00:41, endTime=2024-10-24T19:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T08:00:41, endTime=2024-10-10T09:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=395, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T19:00:41, endTime=2024-10-24T20:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T16:00:41, endTime=2024-10-17T17:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T09:00:41, endTime=2024-10-10T10:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=398, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:20 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T17:00:41, endTime=2024-10-17T18:00:41)]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:20 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:20 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:20 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T10:00:41, endTime=2024-10-10T11:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T08:00:41, endTime=2024-10-25T09:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=401, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T18:00:41, endTime=2024-10-17T19:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T09:00:41, endTime=2024-10-25T10:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T11:00:41, endTime=2024-10-10T12:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=404, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-17T19:00:41, endTime=2024-10-17T20:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T10:00:41, endTime=2024-10-25T11:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T13:00:41, endTime=2024-10-10T14:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=407, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T08:00:41, endTime=2024-10-18T09:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T11:00:41, endTime=2024-10-25T12:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T14:00:41, endTime=2024-10-10T15:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=410, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:21 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T09:00:41, endTime=2024-10-18T10:00:41)]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:21 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:21 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:21 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T15:00:41, endTime=2024-10-10T16:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T13:00:41, endTime=2024-10-25T14:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=412, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T10:00:41, endTime=2024-10-18T11:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T14:00:41, endTime=2024-10-25T15:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T16:00:41, endTime=2024-10-10T17:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=416, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T11:00:41, endTime=2024-10-18T12:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T15:00:41, endTime=2024-10-25T16:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T17:00:41, endTime=2024-10-10T18:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=419, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T16:00:41, endTime=2024-10-25T17:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T13:00:41, endTime=2024-10-18T14:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T18:00:41, endTime=2024-10-10T19:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=422, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:22 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T17:00:41, endTime=2024-10-25T18:00:41)]
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:22 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:22 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:22 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-10T19:00:41, endTime=2024-10-10T20:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T14:00:41, endTime=2024-10-18T15:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=424, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T18:00:41, endTime=2024-10-25T19:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T15:00:41, endTime=2024-10-18T16:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T08:00:41, endTime=2024-10-11T09:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=428, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T19:00:41, endTime=2024-10-25T20:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T09:00:41, endTime=2024-10-11T10:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T16:00:41, endTime=2024-10-18T17:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=430, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:23 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T08:00:41, endTime=2024-10-28T09:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T17:00:41, endTime=2024-10-18T18:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T10:00:41, endTime=2024-10-11T11:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=434, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T09:00:41, endTime=2024-10-28T10:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:23 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:23 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:23 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T18:00:41, endTime=2024-10-18T19:00:41)]
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:23 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T11:00:41, endTime=2024-10-11T12:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=437, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T10:00:41, endTime=2024-10-28T11:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-18T19:00:41, endTime=2024-10-18T20:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T13:00:41, endTime=2024-10-11T14:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=440, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T08:00:41, endTime=2024-10-21T09:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T14:00:41, endTime=2024-10-11T15:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T11:00:41, endTime=2024-10-28T12:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=442, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T09:00:41, endTime=2024-10-21T10:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T13:00:41, endTime=2024-10-28T14:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T15:00:41, endTime=2024-10-11T16:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=446, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:24 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T10:00:41, endTime=2024-10-21T11:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:24 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T14:00:41, endTime=2024-10-28T15:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T16:00:41, endTime=2024-10-11T17:00:41)]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:24 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:24 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:24 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=449, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T11:00:41, endTime=2024-10-21T12:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T15:00:41, endTime=2024-10-28T16:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T17:00:41, endTime=2024-10-11T18:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=452, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T13:00:41, endTime=2024-10-21T14:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T18:00:41, endTime=2024-10-11T19:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T16:00:41, endTime=2024-10-28T17:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=454, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T17:00:41, endTime=2024-10-28T18:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T14:00:41, endTime=2024-10-21T15:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-11T19:00:41, endTime=2024-10-11T20:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=458, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T18:00:41, endTime=2024-10-28T19:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:25 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T08:00:41, endTime=2024-10-14T09:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T15:00:41, endTime=2024-10-21T16:00:41)]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:25 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:25 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:25 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=460, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T16:00:41, endTime=2024-10-21T17:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T19:00:41, endTime=2024-10-28T20:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T09:00:41, endTime=2024-10-14T10:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=464, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T17:00:41, endTime=2024-10-21T18:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T08:00:41, endTime=2024-10-29T09:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T10:00:41, endTime=2024-10-14T11:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=466, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:26 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T09:00:41, endTime=2024-10-29T10:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T18:00:41, endTime=2024-10-21T19:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T11:00:41, endTime=2024-10-14T12:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=470, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:26 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T10:00:41, endTime=2024-10-29T11:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:26 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-21T19:00:41, endTime=2024-10-21T20:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T13:00:41, endTime=2024-10-14T14:00:41)]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:26 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:26 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:26 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=472, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:26 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T08:00:41, endTime=2024-10-22T09:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T11:00:41, endTime=2024-10-29T12:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T14:00:41, endTime=2024-10-14T15:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=476, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:27 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T09:00:41, endTime=2024-10-22T10:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T15:00:41, endTime=2024-10-14T16:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T13:00:41, endTime=2024-10-29T14:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=478, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:27 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T10:00:41, endTime=2024-10-22T11:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T14:00:41, endTime=2024-10-29T15:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T16:00:41, endTime=2024-10-14T17:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=482, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:27 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T15:00:41, endTime=2024-10-29T16:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T11:00:41, endTime=2024-10-22T12:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T17:00:41, endTime=2024-10-14T18:00:41)]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:27 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:27 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:27 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=484, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:27 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T16:00:41, endTime=2024-10-29T17:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T13:00:41, endTime=2024-10-22T14:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T18:00:41, endTime=2024-10-14T19:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=488, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:28 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T17:00:41, endTime=2024-10-29T18:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-14T19:00:41, endTime=2024-10-14T20:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T14:00:41, endTime=2024-10-22T15:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=491, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T15:00:41, endTime=2024-10-22T16:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T18:00:41, endTime=2024-10-29T19:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T08:00:41, endTime=2024-10-15T09:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=494, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T16:00:41, endTime=2024-10-22T17:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:28 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T09:00:41, endTime=2024-10-15T10:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T19:00:41, endTime=2024-10-29T20:00:41)]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:28 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:28 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:28 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=497, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T17:00:41, endTime=2024-10-22T18:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T08:00:41, endTime=2024-10-30T09:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T10:00:41, endTime=2024-10-15T11:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=500, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T09:00:41, endTime=2024-10-30T10:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T11:00:41, endTime=2024-10-15T12:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T18:00:41, endTime=2024-10-22T19:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=503, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-22T19:00:41, endTime=2024-10-22T20:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T10:00:41, endTime=2024-10-30T11:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T13:00:41, endTime=2024-10-15T14:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=506, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T08:00:41, endTime=2024-10-23T09:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:29 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T11:00:41, endTime=2024-10-30T12:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T14:00:41, endTime=2024-10-15T15:00:41)]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:29 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:29 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:29 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=509, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T13:00:41, endTime=2024-10-30T14:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T09:00:41, endTime=2024-10-23T10:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T15:00:41, endTime=2024-10-15T16:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=512, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:30 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T14:00:41, endTime=2024-10-30T15:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T16:00:41, endTime=2024-10-15T17:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T10:00:41, endTime=2024-10-23T11:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=515, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:30 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T15:00:41, endTime=2024-10-30T16:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T11:00:41, endTime=2024-10-23T12:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T17:00:41, endTime=2024-10-15T18:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=518, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T16:00:41, endTime=2024-10-30T17:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T13:00:41, endTime=2024-10-23T14:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:30 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:30 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:30 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:30 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T18:00:41, endTime=2024-10-15T19:00:41)]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=521, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T14:00:41, endTime=2024-10-23T15:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T17:00:41, endTime=2024-10-30T18:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-15T19:00:41, endTime=2024-10-15T20:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=524, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T18:00:41, endTime=2024-10-30T19:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T08:00:41, endTime=2024-10-16T09:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T15:00:41, endTime=2024-10-23T16:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=526, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T16:00:41, endTime=2024-10-23T17:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T19:00:41, endTime=2024-10-30T20:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T09:00:41, endTime=2024-10-16T10:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=530, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T17:00:41, endTime=2024-10-23T18:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:31 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:31 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:31 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T10:00:41, endTime=2024-10-16T11:00:41)]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=532, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T11:00:41, endTime=2024-10-16T12:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T18:00:41, endTime=2024-10-23T19:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:32 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=533, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:32 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-23T19:00:41, endTime=2024-10-23T20:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:32 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:32 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T13:00:41, endTime=2024-10-16T14:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T08:00:41, endTime=2024-10-24T09:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:32 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:32 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=537, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T09:00:41, endTime=2024-10-24T10:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:32 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:32 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T14:00:41, endTime=2024-10-16T15:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=539, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T10:00:41, endTime=2024-10-24T11:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:32 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:32 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:32 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T15:00:41, endTime=2024-10-16T16:00:41)]
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=541, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T11:00:41, endTime=2024-10-24T12:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T16:00:41, endTime=2024-10-16T17:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:33 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:33 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=542, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T13:00:41, endTime=2024-10-24T14:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:33 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:33 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T17:00:41, endTime=2024-10-16T18:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=545, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T14:00:41, endTime=2024-10-24T15:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:33 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:33 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T18:00:41, endTime=2024-10-16T19:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=547, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-16T19:00:41, endTime=2024-10-16T20:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T15:00:41, endTime=2024-10-24T16:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:33 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:33 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=548, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:33 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T16:00:41, endTime=2024-10-24T17:00:41)]
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:33 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:33 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:33 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T08:00:41, endTime=2024-10-17T09:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=551, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T17:00:41, endTime=2024-10-24T18:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:34 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:34 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T09:00:41, endTime=2024-10-17T10:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=553, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T10:00:41, endTime=2024-10-17T11:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T18:00:41, endTime=2024-10-24T19:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:34 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:34 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=554, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-24T19:00:41, endTime=2024-10-24T20:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:34 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:34 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T11:00:41, endTime=2024-10-17T12:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=557, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T08:00:41, endTime=2024-10-25T09:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:34 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:34 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:34 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T13:00:41, endTime=2024-10-17T14:00:41)]
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=559, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T09:00:41, endTime=2024-10-25T10:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T14:00:41, endTime=2024-10-17T15:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:35 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:35 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=560, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T10:00:41, endTime=2024-10-25T11:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:35 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:35 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T15:00:41, endTime=2024-10-17T16:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=563, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T11:00:41, endTime=2024-10-25T12:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:35 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:35 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T16:00:41, endTime=2024-10-17T17:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=565, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T17:00:41, endTime=2024-10-17T18:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T13:00:41, endTime=2024-10-25T14:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:35 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:35 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=566, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:35 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T14:00:41, endTime=2024-10-25T15:00:41)]
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:35 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:35 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:35 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T18:00:41, endTime=2024-10-17T19:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=569, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T15:00:41, endTime=2024-10-25T16:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:36 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:36 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-17T19:00:41, endTime=2024-10-17T20:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=571, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T16:00:41, endTime=2024-10-25T17:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T08:00:41, endTime=2024-10-18T09:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:36 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:36 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=572, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T17:00:41, endTime=2024-10-25T18:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:36 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:36 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T09:00:41, endTime=2024-10-18T10:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=575, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T18:00:41, endTime=2024-10-25T19:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:36 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:36 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T10:00:41, endTime=2024-10-18T11:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=577, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:36 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T11:00:41, endTime=2024-10-18T12:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-25T19:00:41, endTime=2024-10-25T20:00:41)]
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:36 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:36 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:36 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=579, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T08:00:41, endTime=2024-10-28T09:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:37 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:37 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T13:00:41, endTime=2024-10-18T14:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=581, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T09:00:41, endTime=2024-10-28T10:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:37 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:37 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T14:00:41, endTime=2024-10-18T15:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=583, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T10:00:41, endTime=2024-10-28T11:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:37 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:37 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T15:00:41, endTime=2024-10-18T16:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=585, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T11:00:41, endTime=2024-10-28T12:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:37 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:37 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T16:00:41, endTime=2024-10-18T17:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=587, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:37 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T13:00:41, endTime=2024-10-28T14:00:41)]
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:37 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:37 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:37 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T17:00:41, endTime=2024-10-18T18:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=589, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T14:00:41, endTime=2024-10-28T15:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:38 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:38 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:38 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T18:00:41, endTime=2024-10-18T19:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=591, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:38 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T15:00:41, endTime=2024-10-28T16:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:38 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:38 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-18T19:00:41, endTime=2024-10-18T20:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=593, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T16:00:41, endTime=2024-10-28T17:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:38 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:38 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:38 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T08:00:41, endTime=2024-10-21T09:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=595, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T17:00:41, endTime=2024-10-28T18:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:38 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:38 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:38 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:38 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T09:00:41, endTime=2024-10-21T10:00:41)]
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=597, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:38 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T18:00:41, endTime=2024-10-28T19:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:39 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:39 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T10:00:41, endTime=2024-10-21T11:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=599, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-28T19:00:41, endTime=2024-10-28T20:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:39 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:39 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T11:00:41, endTime=2024-10-21T12:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=601, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T08:00:41, endTime=2024-10-29T09:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T13:00:41, endTime=2024-10-21T14:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:39 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:39 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=603, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T09:00:41, endTime=2024-10-29T10:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:39 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:39 [http-nio-8080-exec-7] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T14:00:41, endTime=2024-10-21T15:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=605, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T10:00:41, endTime=2024-10-29T11:00:41)]
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:39 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:39 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:39 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T15:00:41, endTime=2024-10-21T16:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=607, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T11:00:41, endTime=2024-10-29T12:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T16:00:41, endTime=2024-10-21T17:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:40 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:40 [http-nio-8080-exec-5] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=609, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T13:00:41, endTime=2024-10-29T14:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:40 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:40 [http-nio-8080-exec-9] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T17:00:41, endTime=2024-10-21T18:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T14:00:41, endTime=2024-10-29T15:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:40 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:40 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=611, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T15:00:41, endTime=2024-10-29T16:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:40 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:40 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T18:00:41, endTime=2024-10-21T19:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=614, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:40 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T16:00:41, endTime=2024-10-29T17:00:41)]
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:40 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:40 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:40 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-21T19:00:41, endTime=2024-10-21T20:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=616, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T17:00:41, endTime=2024-10-29T18:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:41 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:41 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T08:00:41, endTime=2024-10-22T09:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=618, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T18:00:41, endTime=2024-10-29T19:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:41 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:41 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T09:00:41, endTime=2024-10-22T10:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=620, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-29T19:00:41, endTime=2024-10-29T20:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:41 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:41 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T10:00:41, endTime=2024-10-22T11:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=622, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T08:00:41, endTime=2024-10-30T09:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:41 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:41 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T11:00:41, endTime=2024-10-22T12:00:41)]
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=624, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T09:00:41, endTime=2024-10-30T10:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:42 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:42 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T13:00:41, endTime=2024-10-22T14:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=626, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T10:00:41, endTime=2024-10-30T11:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:42 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:42 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T14:00:41, endTime=2024-10-22T15:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=628, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T11:00:41, endTime=2024-10-30T12:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:42 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:42 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T15:00:41, endTime=2024-10-22T16:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=630, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T13:00:41, endTime=2024-10-30T14:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:42 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:42 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T16:00:41, endTime=2024-10-22T17:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=632, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T14:00:41, endTime=2024-10-30T15:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:42 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:42 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:42 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T17:00:41, endTime=2024-10-22T18:00:41)]
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=634, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T15:00:41, endTime=2024-10-30T16:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:43 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:43 [http-nio-8080-exec-8] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T18:00:41, endTime=2024-10-22T19:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=636, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T16:00:41, endTime=2024-10-30T17:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:43 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:43 [http-nio-8080-exec-1] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-22T19:00:41, endTime=2024-10-22T20:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=638, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T17:00:41, endTime=2024-10-30T18:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:43 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:43 [http-nio-8080-exec-3] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T08:00:41, endTime=2024-10-23T09:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=640, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T18:00:41, endTime=2024-10-30T19:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:43 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:43 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T09:00:41, endTime=2024-10-23T10:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=642, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:43 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=0, startTime=2024-10-30T19:00:41, endTime=2024-10-30T20:00:41)]
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:43 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2024-10-08 16:12:43 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"
  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler project.appointment.exception.GlobalExceptionHandler#handleAllExceptions(Exception)
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/xml' in response
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing ["<error><message>could not execute statement [ERROR: insert or update on table "t_appointment" violat (truncated)..."]
2024-10-08 16:12:43 [http-nio-8080-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: insert or update on table "t_appointment" violates foreign key constraint "fk6e9hpnydcdn2dd5judtr81in2"<EOL>  Подробности: Key (specialist_id)=(0) is not present in table "t_specialist".] [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; SQL [insert into t_appointment (status,client_id,created_at,end_time,service_id,specialist_id,start_time,updated_at) values (?,?,?,?,?,?,?,?) returning id]; constraint [fk6e9hpnydcdn2dd5judtr81in2]]
2024-10-08 16:12:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T10:00:41, endTime=2024-10-23T11:00:41)]
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=644, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T11:00:41, endTime=2024-10-23T12:00:41)]
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=645, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T13:00:41, endTime=2024-10-23T14:00:41)]
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=646, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T14:00:41, endTime=2024-10-23T15:00:41)]
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=647, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:44 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T15:00:41, endTime=2024-10-23T16:00:41)]
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=648, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T16:00:41, endTime=2024-10-23T17:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=649, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T17:00:41, endTime=2024-10-23T18:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=650, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T18:00:41, endTime=2024-10-23T19:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=651, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-23T19:00:41, endTime=2024-10-23T20:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=652, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T08:00:41, endTime=2024-10-24T09:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=653, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:45 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T09:00:41, endTime=2024-10-24T10:00:41)]
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=654, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T10:00:41, endTime=2024-10-24T11:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=655, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T11:00:41, endTime=2024-10-24T12:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=656, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T13:00:41, endTime=2024-10-24T14:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=657, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T14:00:41, endTime=2024-10-24T15:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=658, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T15:00:41, endTime=2024-10-24T16:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=659, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:46 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T16:00:41, endTime=2024-10-24T17:00:41)]
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=660, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T17:00:41, endTime=2024-10-24T18:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=661, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T18:00:41, endTime=2024-10-24T19:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=662, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-24T19:00:41, endTime=2024-10-24T20:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=663, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T08:00:41, endTime=2024-10-25T09:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=664, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T09:00:41, endTime=2024-10-25T10:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=665, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:47 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T10:00:41, endTime=2024-10-25T11:00:41)]
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=666, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T11:00:41, endTime=2024-10-25T12:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=667, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T13:00:41, endTime=2024-10-25T14:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=668, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T14:00:41, endTime=2024-10-25T15:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=669, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T15:00:41, endTime=2024-10-25T16:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=670, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T16:00:41, endTime=2024-10-25T17:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=671, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:48 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T17:00:41, endTime=2024-10-25T18:00:41)]
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=672, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T18:00:41, endTime=2024-10-25T19:00:41)]
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=673, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-25T19:00:41, endTime=2024-10-25T20:00:41)]
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=674, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T08:00:41, endTime=2024-10-28T09:00:41)]
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=675, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T09:00:41, endTime=2024-10-28T10:00:41)]
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=676, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:49 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T10:00:41, endTime=2024-10-28T11:00:41)]
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=677, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T11:00:41, endTime=2024-10-28T12:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=678, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T13:00:41, endTime=2024-10-28T14:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=679, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T14:00:41, endTime=2024-10-28T15:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=680, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T15:00:41, endTime=2024-10-28T16:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=681, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T16:00:41, endTime=2024-10-28T17:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=682, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:50 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T17:00:41, endTime=2024-10-28T18:00:41)]
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=683, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T18:00:41, endTime=2024-10-28T19:00:41)]
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=684, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-28T19:00:41, endTime=2024-10-28T20:00:41)]
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=685, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T08:00:41, endTime=2024-10-29T09:00:41)]
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=686, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T09:00:41, endTime=2024-10-29T10:00:41)]
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=687, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:51 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T10:00:41, endTime=2024-10-29T11:00:41)]
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=688, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T11:00:41, endTime=2024-10-29T12:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=689, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T13:00:41, endTime=2024-10-29T14:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=690, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T14:00:41, endTime=2024-10-29T15:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=691, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T15:00:41, endTime=2024-10-29T16:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=692, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T16:00:41, endTime=2024-10-29T17:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=693, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:52 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T17:00:41, endTime=2024-10-29T18:00:41)]
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=694, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T18:00:41, endTime=2024-10-29T19:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=695, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-29T19:00:41, endTime=2024-10-29T20:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=696, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T08:00:41, endTime=2024-10-30T09:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=697, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T09:00:41, endTime=2024-10-30T10:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=698, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T10:00:41, endTime=2024-10-30T11:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=699, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:53 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T11:00:41, endTime=2024-10-30T12:00:41)]
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=700, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T13:00:41, endTime=2024-10-30T14:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=701, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T14:00:41, endTime=2024-10-30T15:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=702, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T15:00:41, endTime=2024-10-30T16:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=703, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T16:00:41, endTime=2024-10-30T17:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=704, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T17:00:41, endTime=2024-10-30T18:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=705, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:54 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T18:00:41, endTime=2024-10-30T19:00:41)]
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=706, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:12:55 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=4, startTime=2024-10-30T19:00:41, endTime=2024-10-30T20:00:41)]
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=707, specialistId=4, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 16:12:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:13:47 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 16:13:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:13:48 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:13:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/4
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/4
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/4", parameters={}
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 4
2024-10-08 16:13:52 [http-nio-8080-exec-9] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 4
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 16:13:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:04 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:04 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:08 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:12 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:18 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:21 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/appointments/398/book
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/appointments/398/book
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/appointments/398/book", parameters={}
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#bookAppointment(Long, AppointmentBookDto, AppUser)
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentBookDto(clientId=4, clientFirstName=null, clientLastName=null)]
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.bookAppointment(java.lang.Long,project.appointment.appointment.dto.AppointmentBookDto,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.bookAppointment(java.lang.Long,project.appointment.appointment.dto.AppointmentBookDto,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=398, specialistId=4, specialistName=Anna Meier, clientId=4, clientName=nul (truncated)...]
2024-10-08 16:14:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:14:39 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 16:14:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:39 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:39 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:14:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:14:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:14:40 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:14:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:43 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:43 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:14:43 [http-nio-8080-exec-4] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:14:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:43 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:14:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:14:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:14:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:14:44 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:14:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:14:44 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:14:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:14:44 [http-nio-8080-exec-6] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:14:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:14:44 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:14:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:15:40 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 16:15:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:15:41 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 16:15:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/4
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/4
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/4", parameters={}
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 4
2024-10-08 16:15:42 [http-nio-8080-exec-2] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 4
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 16:15:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/appointments/398/cancel-booking
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/appointments/398/cancel-booking
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/appointments/398/cancel-booking", parameters={}
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#cancelBooking(Long, AppUser)
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.cancelBooking(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.cancelBooking(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:43 [http-nio-8080-exec-10] INFO  p.a.a.service.AppointmentService - Cancelling booking for appointment with id: 398
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=398, specialistId=4, specialistName=Anna Meier, clientId=null, clientName= (truncated)...]
2024-10-08 16:16:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:16:43 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 16:16:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:43 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:16:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:16:43 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 16:16:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:46 [http-nio-8080-exec-8] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:16:46 [http-nio-8080-exec-1] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:16:46 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:16:46 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:16:46 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:16:46 [http-nio-8080-exec-10] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:16:46 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:16:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:16:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:18:50 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:18:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:18:50 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:18:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:18:50 [http-nio-8080-exec-6] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:18:50 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:18:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:18:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:19:02 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 16:19:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:19:02 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:19:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:31:11 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:31:11 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:31:11 [http-nio-8080-exec-3] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:31:11 [http-nio-8080-exec-10] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:31:11 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 16:31:11 [http-nio-8080-exec-5] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 16:31:11 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 16:31:11 [http-nio-8080-exec-6] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 16:31:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:31:27 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:31:27 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:31:27 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 16:31:28 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 16:31:28 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 16:31:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:56:40 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:56:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:56:40 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:56:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:57:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:57:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:57:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:57:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:57:22 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:57:22 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:57:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 17:57:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:57:23 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:57:23 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 17:57:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@42943a54]
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.a.security.AuthController - Attempting authentication for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - Generating token for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - Generating token for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] INFO  p.a.security.AuthController - User authenticated successfully: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_CLIENT], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJwZXRyQGdtYWlsLmNvbSIsImlhdCI6MTcyO (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 17:57:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-7] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 17:57:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 17:57:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:57:54 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:57:54 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:57:54 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-8] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 17:57:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:54 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:54 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:57:54 [http-nio-8080-exec-4] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:57:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:57:55 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 17:57:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:57:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:57:55 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:57:55 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:57:55 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:57:55 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:57:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 17:58:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:15 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:15 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:15 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:58:15 [http-nio-8080-exec-3] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 17:58:15 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/clients/my
2024-10-08 17:58:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:15 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:15 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:15 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/clients/my
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/clients/my", parameters={}
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.client.controller.ClientController_new#getCurrentClient()
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.client.controller.ClientController_new.getCurrentClient(); target is of class [project.appointment.client.controller.ClientController_new]
2024-10-08 17:58:15 [http-nio-8080-exec-9] INFO  p.a.client.service.ClientServiceImpl - Fetching client with id: 2
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ClientResponseDto(id=2, email=petr@gmail.com, firstName=Petr, lastName=Petersen, dateOfBirth=1969-11 (truncated)...]
2024-10-08 17:58:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client/past-without-review
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews/client
2024-10-08 17:58:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:21 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:21 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:21 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:21 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:21 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:21 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews/client
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client/past-without-review
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews/client", parameters={}
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client/past-without-review", parameters={}
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getCurrentClientReviews(AppUser)
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientPastAppointmentsWithoutReview(AppUser)
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 17:58:21 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Fetching past appointments without review for client with id: 2
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=7, specialistName=Stefan, clientName=Petr, appointmentDate=2024-10-02T15:00:53 (truncated)...]
2024-10-08 17:58:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:58:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reviews/client
2024-10-08 17:58:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:22 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:22 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:22 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reviews/client
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reviews/client", parameters={}
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.review.controller.ReviewController_new#getCurrentClientReviews(AppUser)
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.review.controller.ReviewController_new.getCurrentClientReviews(project.appointment.security.AppUser); target is of class [project.appointment.review.controller.ReviewController_new]
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReviewResponseDto(id=7, specialistName=Stefan, clientName=Petr, appointmentDate=2024-10-02T15:00:53 (truncated)...]
2024-10-08 17:58:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client/past-without-review
2024-10-08 17:58:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:22 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:22 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:22 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client/past-without-review
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client/past-without-review", parameters={}
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientPastAppointmentsWithoutReview(AppUser)
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientPastAppointmentsWithoutReview(project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:22 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching past appointments without review for client with id: 2
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:58:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:38 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/2
2024-10-08 17:58:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:38 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:39 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:39 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/2
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/2", parameters={}
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 17:58:39 [http-nio-8080-exec-6] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 2
2024-10-08 17:58:39 [http-nio-8080-exec-6] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 2
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 17:58:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/2
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/2
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/2", parameters={}
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 2
2024-10-08 17:58:39 [http-nio-8080-exec-4] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 2
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 17:58:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:58:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:58:41 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:41 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 17:58:41 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:58:41 [http-nio-8080-exec-10] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/client
2024-10-08 17:58:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/client
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/client", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getClientAppointments(Long, AppUser)
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getClientAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:58:41 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments for client with id: 2
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=37, specialistId=3, specialistName=Stefan Weber, clientId=2, clientName=P (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:58:41 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:58:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: petr@gmail.com with role: [ROLE_CLIENT]
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:41 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: petr@gmail.com
2024-10-08 17:58:41 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: petr@gmail.com, setting security context
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:58:41 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:58:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:58:48 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:58:48 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 17:58:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:58:48 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:58:48 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 17:58:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@4c0d100d]
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.security.AuthController - Attempting authentication for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - Generating token for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - Generating token for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] INFO  p.a.security.AuthController - User authenticated successfully: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_SPECIALIST], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ3ZWJlckBnbWFpbC5jb20iLCJpYXQiO (truncated)...]
2024-10-08 17:59:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:59:02 [http-nio-8080-exec-4] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:59:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 17:59:02 [http-nio-8080-exec-2] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 17:59:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists/me", parameters={}
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getCurrentSpecialist(AppUser)
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-9] INFO  p.a.s.service.SpecialistServiceImpl - Fetching specialist with id: 3
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SpecialistResponseDto(id=3, email=weber@gmail.com, firstName=Stefan, lastName=Weber, dateOfBirth=197 (truncated)...]
2024-10-08 17:59:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists/me
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists/me", parameters={}
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getCurrentSpecialist(AppUser)
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.specialist.controller.SpecialistController_new.getCurrentSpecialist(project.appointment.security.AppUser); target is of class [project.appointment.specialist.controller.SpecialistController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching specialist with id: 3
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SpecialistResponseDto(id=3, email=weber@gmail.com, firstName=Stefan, lastName=Weber, dateOfBirth=197 (truncated)...]
2024-10-08 17:59:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/appointments/specialist/3
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/specialist/3
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/specialist/3
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/specialist/3", parameters={}
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getSpecialistAppointments(Long, AppUser)
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-5] INFO  p.a.a.service.AppointmentService - Fetching all appointments for specialist with id: 3
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=30, specialistId=3, specialistName=Stefan Weber, clientId=null, clientNam (truncated)...]
2024-10-08 17:59:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments/specialist/3
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: weber@gmail.com with role: [ROLE_SPECIALIST]
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: weber@gmail.com
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: weber@gmail.com, setting security context
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments/specialist/3
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments/specialist/3", parameters={}
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getSpecialistAppointments(Long, AppUser)
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getSpecialistAppointments(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 17:59:13 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching all appointments for specialist with id: 3
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=30, specialistId=3, specialistName=Stefan Weber, clientId=null, clientNam (truncated)...]
2024-10-08 17:59:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:59:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:59:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:59:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:59:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:59:42 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:59:42 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:59:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 17:59:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 17:59:43 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 17:59:43 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 17:59:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.security.AuthController#login(AuthenticationRequest)
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [project.appointment.security.AuthenticationRequest@1e3ce5ee]
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.security.AuthController - Attempting authentication for user: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - Generating token for user: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.security.RefreshTokenService - Saved refresh token for user: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] INFO  p.a.security.AuthController - User authenticated successfully: leosagir@gmail.com
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{roles=[ROLE_ADMINISTRATOR], accessToken=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsZW9zYWdpckBnbWFpbC5jb20iLC (truncated)...]
2024-10-08 17:59:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:01:00 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:01:00 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:01:00 [http-nio-8080-exec-9] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 18:01:00 [http-nio-8080-exec-7] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:01:00 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/services
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/services
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/services", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.services.controller.ServiceController_new#getAllServices()
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.c.ServiceController_new - REST request to get all Services
2024-10-08 18:01:00 [http-nio-8080-exec-4] INFO  p.a.s.service.ServiceServiceImpl - Fetching all services
2024-10-08 18:01:00 [http-nio-8080-exec-6] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:01:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:01:00 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ServiceResponseDto(id=1, title=Zahnspangen, description=Zahnspangen werden verwendet, um Zahnfehlst (truncated)...]
2024-10-08 18:01:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:01:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:01:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 18:01:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T08:00, endTime=2024-10-09T09:00)]
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=708, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T09:00, endTime=2024-10-09T10:00)]
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=709, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:36 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T10:00, endTime=2024-10-09T11:00)]
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=710, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T11:00, endTime=2024-10-09T12:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=711, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T13:00, endTime=2024-10-09T14:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=712, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T14:00, endTime=2024-10-09T15:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=713, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T15:00, endTime=2024-10-09T16:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=714, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T16:00, endTime=2024-10-09T17:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=715, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:37 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-09T17:00, endTime=2024-10-09T18:00)]
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=716, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T08:00, endTime=2024-10-10T09:00)]
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=717, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:38 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T09:00, endTime=2024-10-10T10:00)]
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=718, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T10:00, endTime=2024-10-10T11:00)]
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=719, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:38 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T11:00, endTime=2024-10-10T12:00)]
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=720, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:38 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:38 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T13:00, endTime=2024-10-10T14:00)]
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=721, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:38 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T14:00, endTime=2024-10-10T15:00)]
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=722, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T15:00, endTime=2024-10-10T16:00)]
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=723, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T16:00, endTime=2024-10-10T17:00)]
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=724, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-10T17:00, endTime=2024-10-10T18:00)]
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=725, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:39 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T08:00, endTime=2024-10-11T09:00)]
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=726, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:39 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T09:00, endTime=2024-10-11T10:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=727, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T10:00, endTime=2024-10-11T11:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=728, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T11:00, endTime=2024-10-11T12:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=729, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T13:00, endTime=2024-10-11T14:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=730, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T14:00, endTime=2024-10-11T15:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=731, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:40 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T15:00, endTime=2024-10-11T16:00)]
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=732, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T16:00, endTime=2024-10-11T17:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=733, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-11T17:00, endTime=2024-10-11T18:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=734, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T08:00, endTime=2024-10-14T09:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=735, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T09:00, endTime=2024-10-14T10:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=736, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T10:00, endTime=2024-10-14T11:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=737, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:41 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T11:00, endTime=2024-10-14T12:00)]
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=738, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T13:00, endTime=2024-10-14T14:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=739, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T14:00, endTime=2024-10-14T15:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=740, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T15:00, endTime=2024-10-14T16:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=741, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T16:00, endTime=2024-10-14T17:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=742, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-14T17:00, endTime=2024-10-14T18:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=743, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:42 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T08:00, endTime=2024-10-15T09:00)]
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=744, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T09:00, endTime=2024-10-15T10:00)]
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=745, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T10:00, endTime=2024-10-15T11:00)]
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=746, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T11:00, endTime=2024-10-15T12:00)]
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=747, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:43 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T13:00, endTime=2024-10-15T14:00)]
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=748, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:43 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T14:00, endTime=2024-10-15T15:00)]
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=749, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T15:00, endTime=2024-10-15T16:00)]
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=750, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T16:00, endTime=2024-10-15T17:00)]
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=751, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-15T17:00, endTime=2024-10-15T18:00)]
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=752, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T08:00, endTime=2024-10-16T09:00)]
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=753, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:44 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T09:00, endTime=2024-10-16T10:00)]
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=754, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:44 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T10:00, endTime=2024-10-16T11:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=755, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T11:00, endTime=2024-10-16T12:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=756, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T13:00, endTime=2024-10-16T14:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=757, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T14:00, endTime=2024-10-16T15:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=758, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T15:00, endTime=2024-10-16T16:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=759, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:45 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T16:00, endTime=2024-10-16T17:00)]
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=760, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-16T17:00, endTime=2024-10-16T18:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=761, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T08:00, endTime=2024-10-17T09:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=762, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T09:00, endTime=2024-10-17T10:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=763, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T10:00, endTime=2024-10-17T11:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=764, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T11:00, endTime=2024-10-17T12:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=765, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:46 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T13:00, endTime=2024-10-17T14:00)]
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=766, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T14:00, endTime=2024-10-17T15:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=767, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T15:00, endTime=2024-10-17T16:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=768, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T16:00, endTime=2024-10-17T17:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=769, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-17T17:00, endTime=2024-10-17T18:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=770, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T08:00, endTime=2024-10-18T09:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=771, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:47 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T09:00, endTime=2024-10-18T10:00)]
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=772, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T10:00, endTime=2024-10-18T11:00)]
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=773, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T11:00, endTime=2024-10-18T12:00)]
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=774, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T13:00, endTime=2024-10-18T14:00)]
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=775, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T14:00, endTime=2024-10-18T15:00)]
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=776, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:48 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T15:00, endTime=2024-10-18T16:00)]
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=777, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T16:00, endTime=2024-10-18T17:00)]
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=778, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-18T17:00, endTime=2024-10-18T18:00)]
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=779, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T08:00, endTime=2024-10-21T09:00)]
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=780, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T09:00, endTime=2024-10-21T10:00)]
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=781, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T10:00, endTime=2024-10-21T11:00)]
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=782, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:49 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:49 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:49 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:49 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T11:00, endTime=2024-10-21T12:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=783, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T13:00, endTime=2024-10-21T14:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=784, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T14:00, endTime=2024-10-21T15:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=785, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T15:00, endTime=2024-10-21T16:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=786, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T16:00, endTime=2024-10-21T17:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=787, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:50 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-21T17:00, endTime=2024-10-21T18:00)]
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=788, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T08:00, endTime=2024-10-22T09:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=789, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T09:00, endTime=2024-10-22T10:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=790, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T10:00, endTime=2024-10-22T11:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=791, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T11:00, endTime=2024-10-22T12:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=792, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T13:00, endTime=2024-10-22T14:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=793, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:51 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T14:00, endTime=2024-10-22T15:00)]
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=794, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T15:00, endTime=2024-10-22T16:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=795, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T16:00, endTime=2024-10-22T17:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=796, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-22T17:00, endTime=2024-10-22T18:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=797, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T08:00, endTime=2024-10-23T09:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=798, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T09:00, endTime=2024-10-23T10:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=799, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:52 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T10:00, endTime=2024-10-23T11:00)]
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=800, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T11:00, endTime=2024-10-23T12:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=801, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T13:00, endTime=2024-10-23T14:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=802, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T14:00, endTime=2024-10-23T15:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=803, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T15:00, endTime=2024-10-23T16:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=804, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T16:00, endTime=2024-10-23T17:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=805, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:53 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-23T17:00, endTime=2024-10-23T18:00)]
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=806, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T08:00, endTime=2024-10-24T09:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=807, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T09:00, endTime=2024-10-24T10:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=808, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T10:00, endTime=2024-10-24T11:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=809, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T11:00, endTime=2024-10-24T12:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=810, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T13:00, endTime=2024-10-24T14:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=811, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:54 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T14:00, endTime=2024-10-24T15:00)]
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=812, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T15:00, endTime=2024-10-24T16:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=813, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T16:00, endTime=2024-10-24T17:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=814, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-24T17:00, endTime=2024-10-24T18:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=815, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T08:00, endTime=2024-10-25T09:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=816, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T09:00, endTime=2024-10-25T10:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=817, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:55 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T10:00, endTime=2024-10-25T11:00)]
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=818, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T11:00, endTime=2024-10-25T12:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=819, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T13:00, endTime=2024-10-25T14:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=820, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T14:00, endTime=2024-10-25T15:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=821, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T15:00, endTime=2024-10-25T16:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=822, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T16:00, endTime=2024-10-25T17:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=823, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:56 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-25T17:00, endTime=2024-10-25T18:00)]
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=824, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T08:00, endTime=2024-10-28T09:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=825, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T09:00, endTime=2024-10-28T10:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=826, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T10:00, endTime=2024-10-28T11:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=827, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T11:00, endTime=2024-10-28T12:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=828, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T13:00, endTime=2024-10-28T14:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=829, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:57 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T14:00, endTime=2024-10-28T15:00)]
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=830, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T15:00, endTime=2024-10-28T16:00)]
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=831, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:58 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T16:00, endTime=2024-10-28T17:00)]
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=832, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:58 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-28T17:00, endTime=2024-10-28T18:00)]
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=833, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T08:00, endTime=2024-10-29T09:00)]
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=834, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:58 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T09:00, endTime=2024-10-29T10:00)]
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=835, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:58 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T10:00, endTime=2024-10-29T11:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=836, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T11:00, endTime=2024-10-29T12:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=837, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T13:00, endTime=2024-10-29T14:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=838, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T14:00, endTime=2024-10-29T15:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=839, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T15:00, endTime=2024-10-29T16:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=840, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:02:59 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T16:00, endTime=2024-10-29T17:00)]
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=841, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:02:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-29T17:00, endTime=2024-10-29T18:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=842, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T08:00, endTime=2024-10-30T09:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=843, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T09:00, endTime=2024-10-30T10:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=844, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T10:00, endTime=2024-10-30T11:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=845, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T11:00, endTime=2024-10-30T12:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=846, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:00 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T13:00, endTime=2024-10-30T14:00)]
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=847, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T14:00, endTime=2024-10-30T15:00)]
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=848, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T15:00, endTime=2024-10-30T16:00)]
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=849, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T16:00, endTime=2024-10-30T17:00)]
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=850, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-30T17:00, endTime=2024-10-30T18:00)]
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=851, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:01 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T08:00, endTime=2024-10-31T09:00)]
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=852, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T09:00, endTime=2024-10-31T10:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=853, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T10:00, endTime=2024-10-31T11:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=854, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T11:00, endTime=2024-10-31T12:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=855, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T13:00, endTime=2024-10-31T14:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=856, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T14:00, endTime=2024-10-31T15:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=857, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:02 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T15:00, endTime=2024-10-31T16:00)]
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=858, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:03 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T16:00, endTime=2024-10-31T17:00)]
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=859, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/appointments
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:03 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/appointments
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/appointments", parameters={}
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#createFreeAppointment(AppointmentCreateDto)
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentCreateDto(specialistId=7, startTime=2024-10-31T17:00, endTime=2024-10-31T18:00)]
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.createFreeAppointment(project.appointment.appointment.dto.AppointmentCreateDto); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=860, specialistId=7, specialistName=null null, clientId=null, clientName=n (truncated)...]
2024-10-08 18:03:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:03:08 [http-nio-8080-exec-8] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 18:03:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:03:08 [http-nio-8080-exec-7] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:03:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/3
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/3
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/3", parameters={}
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 3
2024-10-08 18:03:33 [http-nio-8080-exec-9] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 3
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 18:03:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 18:03:48 [http-nio-8080-exec-1] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 18:03:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/appointments/717/book
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:59 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/appointments/717/book
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/appointments/717/book", parameters={}
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#bookAppointment(Long, AppointmentBookDto, AppUser)
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AppointmentBookDto(clientId=3, clientFirstName=null, clientLastName=null)]
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.bookAppointment(java.lang.Long,project.appointment.appointment.dto.AppointmentBookDto,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.bookAppointment(java.lang.Long,project.appointment.appointment.dto.AppointmentBookDto,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=717, specialistId=7, specialistName=Christoph Hofmann, clientId=3, clientN (truncated)...]
2024-10-08 18:03:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:03:59 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:03:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:00 [http-nio-8080-exec-2] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 18:04:00 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:00 [http-nio-8080-exec-3] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:04:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:03 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 18:04:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:04 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 18:04:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/3
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/3
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/3", parameters={}
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 3
2024-10-08 18:04:05 [http-nio-8080-exec-8] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 3
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 18:04:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/appointments/717/cancel-booking
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/appointments/717/cancel-booking
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/appointments/717/cancel-booking", parameters={}
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#cancelBooking(Long, AppUser)
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.cancelBooking(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.cancelBooking(java.lang.Long,project.appointment.security.AppUser); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:14 [http-nio-8080-exec-7] INFO  p.a.a.service.AppointmentService - Cancelling booking for appointment with id: 717
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AppointmentResponseDto(id=717, specialistId=7, specialistName=Christoph Hofmann, clientId=null, clie (truncated)...]
2024-10-08 18:04:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:14 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:04:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/appointments
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/appointments
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/appointments", parameters={}
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.appointment.controller.AppointmentController_new#getAllAppointments()
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.appointment.controller.AppointmentController_new.getAllAppointments(); target is of class [project.appointment.appointment.controller.AppointmentController_new]
2024-10-08 18:04:14 [http-nio-8080-exec-1] INFO  p.a.a.service.AppointmentService - Fetching all appointments
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[AppointmentResponseDto(id=646, specialistId=4, specialistName=Anna Meier, clientId=null, clientName (truncated)...]
2024-10-08 18:04:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:14 [http-nio-8080-exec-6] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=1, first (truncated)...]
2024-10-08 18:04:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:16 [http-nio-8080-exec-4] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 18:04:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:04:17 [http-nio-8080-exec-2] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 18:04:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/notifications/client/3
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/notifications/client/3
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/notifications/client/3", parameters={}
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.notification.controller.NotificationController_new#getNotificationsByClientId(Long)
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity project.appointment.notification.controller.NotificationController_new.getNotificationsByClientId(java.lang.Long); target is of class [project.appointment.notification.controller.NotificationController_new]
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.n.c.NotificationController_new - REST request to get Notifications for Client : 3
2024-10-08 18:04:18 [http-nio-8080-exec-3] INFO  p.a.n.s.NotificationServiceImpl - Fetching notifications for client ID: 3
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2024-10-08 18:04:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:05:05 [http-nio-8080-exec-10] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 18:05:05 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - Attempting to load user by username: leosagir@gmail.com
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in ClientRepository, checking SpecialistRepository
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User not found in SpecialistRepository, checking AdministratorRepository
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.CompositeUserDetailsService - User found: leosagir@gmail.com with role: [ROLE_ADMINISTRATOR]
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.appointment.security.JwtUtil - JWT token is valid for user: leosagir@gmail.com
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.security.JwtRequestFilter - Authenticated user: leosagir@gmail.com, setting security context
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:05:05 [http-nio-8080-exec-5] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=5, first (truncated)...]
2024-10-08 18:05:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 18:16:03 [http-nio-8080-exec-8] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 18:16:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specialists
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specialists
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specialists", parameters={}
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialist.controller.SpecialistController_new#getAllSpecialists()
2024-10-08 18:16:03 [http-nio-8080-exec-7] INFO  p.a.s.service.SpecialistServiceImpl - Fetching all specialists
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecialistResponseDto(id=2, email=schneider@gmail.com, firstName=Julia, lastName=Schneider, dateOfB (truncated)...]
2024-10-08 18:16:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:16:16 [http-nio-8080-exec-9] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:16:16 [http-nio-8080-exec-9] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=2, first (truncated)...]
2024-10-08 18:16:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/specializations
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/specializations
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/specializations", parameters={}
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to project.appointment.specialization.controller.SpecializationController_new#getAllSpecializations()
2024-10-08 18:16:16 [http-nio-8080-exec-1] INFO  p.a.s.c.SpecializationController_new - REST request to get all Specializations
2024-10-08 18:16:16 [http-nio-8080-exec-1] INFO  p.a.s.s.SpecializationServiceImpl - Fetching all specializations
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SpecializationResponseDto(id=5, title=Kieferorthopädie, specialists=[SpecialistShortDto(id=7, first (truncated)...]
2024-10-08 18:16:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
